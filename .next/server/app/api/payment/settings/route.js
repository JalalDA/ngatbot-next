(()=>{var e={};e.id=572,e.ids=[572],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3903:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>g});var n={};r.r(n),r.d(n,{DELETE:()=>c,GET:()=>d,POST:()=>p});var s=r(6559),i=r(8088),a=r(7719),o=r(2190),u=r(7740);async function d(){try{let e=await u.z.paymentSettings.findFirst();if(!e)return o.NextResponse.json({id:null,serverKey:"",clientKey:"",isProduction:!1,isConfigured:!1,createdAt:null,updatedAt:null});return o.NextResponse.json({id:e.id,serverKey:e.serverKey?"***":"",clientKey:e.clientKey?"***":"",isProduction:e.isProduction,isConfigured:!!(e.serverKey&&e.clientKey),createdAt:e.createdAt?.toISOString()||null,updatedAt:e.updatedAt?.toISOString()||null})}catch(e){return console.error("Error fetching payment settings:",e),o.NextResponse.json({error:"Failed to fetch payment settings"},{status:500})}}async function p(e){try{let t,{serverKey:r,clientKey:n,isProduction:s}=await e.json();if(!r||!n)return o.NextResponse.json({error:"Server key and client key are required"},{status:400});let i=await u.z.paymentSettings.findFirst();return t=i?await u.z.paymentSettings.update({where:{id:i.id},data:{serverKey:r,clientKey:n,isProduction:s,updatedAt:new Date}}):await u.z.paymentSettings.create({data:{serverKey:r,clientKey:n,isProduction:s,createdAt:new Date,updatedAt:new Date}}),o.NextResponse.json({id:t.id,serverKey:"***",clientKey:"***",isProduction:t.isProduction,isConfigured:!0,createdAt:t.createdAt?.toISOString(),updatedAt:t.updatedAt?.toISOString()})}catch(e){return console.error("Error saving payment settings:",e),o.NextResponse.json({error:"Failed to save payment settings"},{status:500})}}async function c(){try{return await u.z.paymentSettings.deleteMany({}),o.NextResponse.json({success:!0})}catch(e){return console.error("Error deleting payment settings:",e),o.NextResponse.json({error:"Failed to delete payment settings"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/payment/settings/route",pathname:"/api/payment/settings",filename:"route",bundlePath:"app/api/payment/settings/route"},resolvedPagePath:"/home/runner/workspace/app/api/payment/settings/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:y,workUnitAsyncStorage:g,serverHooks:m}=l;function x(){return(0,a.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:g})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},7740:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});let n=require("@prisma/client"),s=globalThis.prisma??new n.PrismaClient({log:["query"]})},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,580],()=>r(3903));module.exports=n})();